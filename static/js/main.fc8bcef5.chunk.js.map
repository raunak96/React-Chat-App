{"version":3,"sources":["components/MessageForm.jsx","components/OthersMessage.jsx","components/SelfMessage.jsx","util.js","pages/ChatFeedPage.jsx","pages/LoginPage.jsx","App.js","index.js"],"names":["MessageForm","props","chatId","creds","useState","value","setValue","handleSubmit","e","preventDefault","text","trim","length","sendMessage","className","onSubmit","type","placeholder","onChange","target","isTyping","htmlFor","id","multiple","style","display","files","OthersMessage","message","lastMessage","time","isFirstMessageByThisUser","sender","userName","backgroundImage","avatar","attachments","position","marginLeft","src","file","alt","bottom","right","color","marginRight","fontSize","float","backgroundColor","paddingLeft","SelfMessage","marginTop","datesAreOnSameDay","first","second","getFullYear","getMonth","getDate","useStyles","makeStyles","theme","root","ChatFeed","console","log","messages","chats","activeChat","chat","classes","renderReadReceipts","useCallback","isMyMessage","people","map","person","index","username","last_read","renderMessages","keys","Object","key","previousMessageKey","messageDate","Date","created","isFirstMessageOfDay","width","Chip","label","toLocaleString","month","toTimeString","substring","title","height","margin","marginBottom","LoginPage","password","showPassword","passwordError","userNameError","formSubmissionError","formData","setFormData","handleChange","name","prev","a","authObject","process","axios","get","headers","localStorage","setItem","window","location","reload","TextField","error","variant","required","helperText","InputProps","endAdornment","InputAdornment","IconButton","aria-label","onClick","onMouseDown","disabled","App","getItem","projectID","userSecret","renderChatFeed","chatAppProps","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fc8bcef5.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { isTyping, sendMessage } from \"react-chat-engine\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport ImageOutlinedIcon from \"@material-ui/icons/ImageOutlined\";\n\nconst MessageForm = props => {\n\tconst { chatId, creds } = props;\n\tconst [value, setValue] = useState(\"\");\n\tconst handleChange = e => {\n\t\tsetValue(e.target.value);\n\t\tisTyping(props, chatId);\n\t};\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\t\tconst text = value.trim();\n\t\tif (text.length > 0) sendMessage(creds, chatId, { text });\n\t\tsetValue(\"\");\n\t};\n\tconst handleUpload = e => {\n\t\tsendMessage(creds, chatId, { files: e.target.files, text: \"\" });\n\t};\n\treturn (\n\t\t<form className=\"message-form\" onSubmit={handleSubmit}>\n\t\t\t<input\n\t\t\t\tclassName=\"message-input\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Type a Message...\"\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t/>\n\t\t\t<label htmlFor=\"upload-button\">\n\t\t\t\t<span className=\"image-button\">\n\t\t\t\t\t<ImageOutlinedIcon className=\"picture-icon\" />\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\ttype=\"file\"\n\t\t\t\tid=\"upload-button\"\n\t\t\t\tmultiple={false}\n\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\tonChange={handleUpload}\n\t\t\t/>\n\t\t\t<button type=\"submit\" className=\"send-button\">\n\t\t\t\t<SendIcon className=\"send-icon\" />\n\t\t\t</button>\n\t\t</form>\n\t);\n};\n\nexport default MessageForm;\n","import React from \"react\";\r\n\r\nconst OthersMessage = ({ message, lastMessage, time }) => {\r\n\tconst isFirstMessageByThisUser =\r\n\t\t!lastMessage || message.sender.userName !== lastMessage.sender.userName; // checking if this message is continuing after previous message from same user\r\n\r\n\treturn (\r\n\t\t<div className=\"message-row\">\r\n\t\t\t{isFirstMessageByThisUser && (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"message-avatar\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tbackgroundImage: `url(${message?.sender?.avatar})`,\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{message?.attachments?.length > 0 ? (\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tposition: \"relative\",\r\n\t\t\t\t\t\tmarginLeft: isFirstMessageByThisUser ? \"4px\" : \"48px\",\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={message.attachments[0].file}\r\n\t\t\t\t\t\talt=\"message-attachment\"\r\n\t\t\t\t\t\tclassName=\"message-image\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<small\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\t\t\tbottom: \"8px\",\r\n\t\t\t\t\t\t\tright: \"16px\",\r\n\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\tmarginRight: \"10px\",\r\n\t\t\t\t\t\t\tfontSize: \"0.7rem\",\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{time}\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"message\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tfloat: \"left\",\r\n\t\t\t\t\t\tbackgroundColor: \"#CABCDC\",\r\n\t\t\t\t\t\tmarginLeft: isFirstMessageByThisUser ? \"4px\" : \"48px\",\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t{message.text}\r\n\t\t\t\t\t<sub style={{ paddingLeft: \"8px\", fontSize: \"0.7rem\" }}>\r\n\t\t\t\t\t\t{time}\r\n\t\t\t\t\t</sub>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default OthersMessage;\r\n","import React from \"react\";\r\n\r\nconst SelfMessage = ({ message, time }) => {\r\n\treturn message?.attachments?.length > 0 ? (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tposition: \"relative\",\r\n\t\t\t\tfloat: \"right\",\r\n\t\t\t\tmarginTop: \"5px\",\r\n\t\t\t}}>\r\n\t\t\t<img\r\n\t\t\t\tsrc={message.attachments[0].file}\r\n\t\t\t\talt=\"message-attachment\"\r\n\t\t\t\tclassName=\"message-image\"\r\n\t\t\t/>\r\n\t\t\t<small\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tbottom: \"8px\",\r\n\t\t\t\t\tright: \"16px\",\r\n\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\tmarginRight: \"10px\",\r\n\t\t\t\t\tfontSize: \"0.7rem\",\r\n\t\t\t\t}}>\r\n\t\t\t\t{time}\r\n\t\t\t</small>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div\r\n\t\t\tclassName=\"message\"\r\n\t\t\tstyle={{\r\n\t\t\t\tfloat: \"right\",\r\n\t\t\t\tmarginRight: \"18px\",\r\n\t\t\t\tcolor: \"#fff\",\r\n\t\t\t\tbackgroundColor: \"#3a2b50\",\r\n\t\t\t}}>\r\n\t\t\t{message.text}\r\n\t\t\t<sub style={{ paddingLeft: \"8px\", fontSize: \"0.7rem\" }}>{time}</sub>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SelfMessage;\r\n","const datesAreOnSameDay = (first, second) =>\n\tfirst.getFullYear() === second.getFullYear() &&\n\tfirst.getMonth() === second.getMonth() &&\n\tfirst.getDate() === second.getDate();\n\nexport default datesAreOnSameDay;\n","import { Chip, makeStyles } from \"@material-ui/core\";\r\nimport React, { useCallback } from \"react\";\r\nimport MessageForm from \"../components/MessageForm\";\r\nimport OthersMessage from \"../components/OthersMessage\";\r\nimport SelfMessage from \"../components/SelfMessage\";\r\nimport datesAreOnSameDay from \"../util\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tbackgroundColor: \"rgb(162, 158, 200)\",\r\n\t},\r\n}));\r\n/**\r\n * @ChatFeed The component displaying messages of active chat\r\n * @param {Object} chatProps - provided by chatEngine.io\r\n * */\r\nconst ChatFeed = props => {\r\n\tconsole.log(props);\r\n\tconst { messages, chats, userName, activeChat } = props;\r\n\tconst chat = chats && chats[activeChat]; // gets active Chat\r\n\tconst classes = useStyles();\r\n\r\n\tconst renderReadReceipts = useCallback(\r\n\t\t(message, isMyMessage) => (\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"read-receipts\"\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tmarginRight: isMyMessage ? \"18px\" : \"0px\",\r\n\t\t\t\t\tmarginLeft: isMyMessage ? \"0px\" : \"68px\",\r\n\t\t\t\t}}>\r\n\t\t\t\t{chat.people.map(\r\n\t\t\t\t\t(person, index) =>\r\n\t\t\t\t\t\tperson.person.username !== message.sender.username &&\r\n\t\t\t\t\t\tperson.last_read === message.id &&\r\n\t\t\t\t\t\tuserName !== person.person.username && (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tkey={`read_${index}`}\r\n\t\t\t\t\t\t\t\tclassName=\"read-receipt\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tfloat: isMyMessage ? \"right\" : \"left\",\r\n\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${person?.person?.avatar})`,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t),\r\n\t\t[chat?.people, userName]\r\n\t);\r\n\r\n\tconst renderMessages = useCallback(() => {\r\n\t\tconst keys = Object.keys(messages); // gets id of all messages\r\n\r\n\t\treturn keys.map((key, index) => {\r\n\t\t\tconst message = messages[key];\r\n\t\t\tconst previousMessageKey = index === 0 ? null : keys[index - 1];\r\n\t\t\tconst lastMessage = messages[previousMessageKey];\r\n\t\t\tconst isMyMessage = message.sender.username === userName;\r\n\t\t\tconst messageDate = new Date(message.created);\r\n\t\t\tconst isFirstMessageOfDay = !datesAreOnSameDay(\r\n\t\t\t\tnew Date(lastMessage?.created),\r\n\t\t\t\tmessageDate\r\n\t\t\t);\r\n\t\t\treturn (\r\n\t\t\t\t<div key={`msg_${index}`} style={{ width: \"100%\" }}>\r\n\t\t\t\t\t<div className=\"message-block\">\r\n\t\t\t\t\t\t{(previousMessageKey === null ||\r\n\t\t\t\t\t\t\tisFirstMessageOfDay) && (\r\n\t\t\t\t\t\t\t<div className=\"date-block\">\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tclassName={classes.root}\r\n\t\t\t\t\t\t\t\t\tlabel={`${messageDate.getDate()} ${messageDate.toLocaleString(\r\n\t\t\t\t\t\t\t\t\t\t\"default\",\r\n\t\t\t\t\t\t\t\t\t\t{ month: \"long\" }\r\n\t\t\t\t\t\t\t\t\t)} ${messageDate.getFullYear()}`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{isMyMessage ? (\r\n\t\t\t\t\t\t\t<SelfMessage\r\n\t\t\t\t\t\t\t\tmessage={message}\r\n\t\t\t\t\t\t\t\ttime={`${messageDate\r\n\t\t\t\t\t\t\t\t\t.toTimeString()\r\n\t\t\t\t\t\t\t\t\t.substring(0, 5)}`}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<OthersMessage\r\n\t\t\t\t\t\t\t\tmessage={message}\r\n\t\t\t\t\t\t\t\tlastMessage={lastMessage}\r\n\t\t\t\t\t\t\t\ttime={`${messageDate\r\n\t\t\t\t\t\t\t\t\t.toTimeString()\r\n\t\t\t\t\t\t\t\t\t.substring(0, 5)}`}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{renderReadReceipts(message, isMyMessage)}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t});\r\n\t}, [messages, userName, renderReadReceipts, classes.root]);\r\n\r\n\treturn chat ? (\r\n\t\t<div className=\"chat-feed\">\r\n\t\t\t<div className=\"chat-title-container\">\r\n\t\t\t\t<div className=\"chat-title\">{chat.title}</div>\r\n\t\t\t\t<div className=\"chat-subtitle\">\r\n\t\t\t\t\t{chat.people.map(person => ` ${person.person.username}`)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{renderMessages()}\r\n\t\t\t<div style={{ height: \"100px\" }} />\r\n\t\t\t<div className=\"message-form-container\">\r\n\t\t\t\t{\" \"}\r\n\t\t\t\t{/* Here we type new message */}\r\n\t\t\t\t<MessageForm {...props} chatId={activeChat} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div>Loading....</div>\r\n\t);\r\n};\r\n\r\nexport default ChatFeed;\r\n","import React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport axios from \"axios\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\t\"& .MuiTextField-root\": {\n\t\t\tmargin: \"0 auto\",\n\t\t\twidth: \"90%\",\n\t\t\tmarginBottom: \"25px\",\n\t\t},\n\t\t\"& .MuiInputBase-root\": {\n\t\t\tbackgroundColor: \"rgb(255,255,255)\",\n\t\t},\n\t},\n}));\n\nconst LoginPage = () => {\n\tconst classes = useStyles();\n\tconst [formData, setFormData] = useState({\n\t\tuserName: \"\",\n\t\tpassword: \"\",\n\t\tshowPassword: false,\n\t\tpasswordError: \"\",\n\t\tuserNameError: \"\",\n\t\tformSubmissionError: false,\n\t});\n\tconst {\n\t\tuserName,\n\t\tpassword,\n\t\tshowPassword,\n\t\tpasswordError,\n\t\tuserNameError,\n\t\tformSubmissionError,\n\t} = formData;\n\tconst handleChange = e => {\n\t\tconst { name, value } = e.target;\n\t\tif (name === \"password\") {\n\t\t\tif (value === \"\")\n\t\t\t\tsetFormData(prev => ({\n\t\t\t\t\t...prev,\n\t\t\t\t\tpasswordError: \"Password is required.\",\n\t\t\t\t}));\n\t\t\telse if (value.length < 6 || value.length > 15)\n\t\t\t\tsetFormData(prev => ({\n\t\t\t\t\t...prev,\n\t\t\t\t\tpasswordError:\n\t\t\t\t\t\t\"Password has to be between 6-15 characters.\",\n\t\t\t\t}));\n\t\t\telse if (passwordError !== \"\")\n\t\t\t\tsetFormData(prev => ({ ...prev, passwordError: \"\" }));\n\t\t} else {\n\t\t\tif (value === \"\")\n\t\t\t\tsetFormData(prev => ({\n\t\t\t\t\t...prev,\n\t\t\t\t\tuserNameError: \"UserName is required.\",\n\t\t\t\t}));\n\t\t\telse if (userNameError !== \"\")\n\t\t\t\tsetFormData(prev => ({ ...prev, userNameError: \"\" }));\n\t\t}\n\n\t\tsetFormData(prev => ({ ...prev, [name]: value }));\n\t};\n\tconst handleClickShowPassword = () => {\n\t\tsetFormData(prev => ({ ...prev, showPassword: !showPassword }));\n\t};\n\tconst handleSubmit = async e => {\n\t\te.preventDefault();\n\t\tconst authObject = {\n\t\t\t\"Project-ID\": process.env.REACT_APP_PROJECT_ID,\n\t\t\t\"User-Name\": userName,\n\t\t\t\"User-Secret\": password,\n\t\t};\n\t\ttry {\n\t\t\tawait axios.get(\"https://api.chatengine.io/chats\", {\n\t\t\t\theaders: authObject,\n\t\t\t});\n\t\t\tlocalStorage.setItem(\"userName\", userName);\n\t\t\tlocalStorage.setItem(\"password\", password);\n\t\t\twindow.location.reload();\n\t\t} catch (error) {\n\t\t\tsetFormData(prev => ({ ...prev, formSubmissionError: true }));\n\t\t}\n\t};\n\treturn (\n\t\t<div className=\"wrapper\">\n\t\t\t<div className=\"form\">\n\t\t\t\t<h1 className=\"title\">Chat Application</h1>\n\t\t\t\t<form onSubmit={handleSubmit} className={classes.root}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"userName\"\n\t\t\t\t\t\terror={!!userNameError}\n\t\t\t\t\t\tvalue={userName}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel=\"UserName\"\n\t\t\t\t\t\thelperText={userNameError}\n\t\t\t\t\t\tplaceholder=\"john34\"\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\ttype={showPassword ? \"text\" : \"password\"}\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\terror={!!passwordError}\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\thelperText={passwordError}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\tonClick={handleClickShowPassword}\n\t\t\t\t\t\t\t\t\t\tonMouseDown={e => e.preventDefault()}>\n\t\t\t\t\t\t\t\t\t\t{formData.showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t<Visibility />\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"button\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tdisabled={!!passwordError || !!userNameError}>\n\t\t\t\t\t\t<span>Start Chatting</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t{formSubmissionError && (\n\t\t\t\t\t\t<h2 className=\"error\">Oops, Wrong Credentials!</h2>\n\t\t\t\t\t)}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default LoginPage;\n","import React from \"react\";\nimport { ChatEngine } from \"react-chat-engine\";\nimport \"./App.css\";\nimport ChatFeed from \"./pages/ChatFeedPage\";\nimport LoginPage from \"./pages/LoginPage\";\n\nconst App = () => {\n\treturn localStorage.getItem(\"userName\") ? (\n\t\t<ChatEngine\n\t\t\tprojectID={process.env.REACT_APP_PROJECT_ID}\n\t\t\tuserName={localStorage.getItem(\"userName\")}\n\t\t\tuserSecret={localStorage.getItem(\"password\")}\n\t\t\theight=\"100vh\"\n\t\t\trenderChatFeed={chatAppProps => <ChatFeed {...chatAppProps} />}\n\t\t/>\n\t) : (\n\t\t<LoginPage />\n\t);\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}