{"version":3,"sources":["components/MessageForm.jsx","components/OthersMessage.jsx","components/SelfMessage.jsx","util.js","pages/ChatFeedPage.jsx","pages/LoginPage.jsx","App.js","index.js"],"names":["MessageForm","props","chatId","creds","useState","value","setValue","handleSubmit","e","preventDefault","text","trim","length","sendMessage","className","onSubmit","type","placeholder","onChange","target","isTyping","htmlFor","id","multiple","style","display","files","OthersMessage","message","lastMessage","time","isFirstMessageByThisUser","sender","userName","backgroundImage","avatar","attachments","position","marginLeft","src","file","alt","bottom","right","color","marginRight","fontSize","float","backgroundColor","paddingLeft","SelfMessage","datesAreOnSameDay","first","second","getFullYear","getMonth","getDate","useStyles","makeStyles","theme","root","backdrop","zIndex","drawer","flexDirection","ChatFeed","console","log","messages","chats","activeChat","chat","classes","renderReadReceipts","useCallback","isMyMessage","marginTop","marginBottom","people","map","person","index","username","last_read","renderMessages","keys","Object","key","previousMessageKey","messageDate","Date","created","isFirstMessageOfDay","width","Chip","label","toLocaleString","month","toTimeString","substring","title","height","Backdrop","open","Typography","variant","gutterBottom","CircularProgress","margin","LoginPage","setUserDetails","password","showPassword","passwordError","userNameError","formSubmissionError","formData","setFormData","handleChange","name","prev","a","authObject","process","axios","get","headers","localStorage","setItem","TextField","error","required","helperText","InputProps","endAdornment","InputAdornment","IconButton","aria-label","onClick","onMouseDown","disabled","App","getItem","userDetails","projectID","userSecret","renderChatFeed","chatAppProps","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.29f51ee2.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { isTyping, sendMessage } from \"react-chat-engine\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport ImageOutlinedIcon from \"@material-ui/icons/ImageOutlined\";\n\nconst MessageForm = props => {\n\tconst { chatId, creds } = props;\n\tconst [value, setValue] = useState(\"\");\n\tconst handleChange = e => {\n\t\tsetValue(e.target.value);\n\t\tisTyping(props, chatId);\n\t};\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\t\tconst text = value.trim();\n\t\tif (text.length > 0) sendMessage(creds, chatId, { text });\n\t\tsetValue(\"\");\n\t};\n\tconst handleUpload = e => {\n\t\tsendMessage(creds, chatId, { files: e.target.files, text: \"\" });\n\t};\n\treturn (\n\t\t<form className=\"message-form\" onSubmit={handleSubmit}>\n\t\t\t<input\n\t\t\t\tclassName=\"message-input\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Type a Message...\"\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t/>\n\t\t\t<label htmlFor=\"upload-button\">\n\t\t\t\t<span className=\"image-button\">\n\t\t\t\t\t<ImageOutlinedIcon className=\"picture-icon\" />\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\ttype=\"file\"\n\t\t\t\tid=\"upload-button\"\n\t\t\t\tmultiple={false}\n\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\tonChange={handleUpload}\n\t\t\t/>\n\t\t\t<button type=\"submit\" className=\"send-button\">\n\t\t\t\t<SendIcon className=\"send-icon\" />\n\t\t\t</button>\n\t\t</form>\n\t);\n};\n\nexport default MessageForm;\n","import React from \"react\";\n\nconst OthersMessage = ({ message, lastMessage, time }) => {\n\tconst isFirstMessageByThisUser =\n\t\t!lastMessage || message.sender.userName !== lastMessage.sender.userName; // checking if this message is continuing after previous message from same user\n\n\treturn (\n\t\t<div className=\"message-row\">\n\t\t\t{isFirstMessageByThisUser && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"message-avatar\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundImage: `url(${message?.sender?.avatar})`,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{message?.attachments?.length > 0 ? (\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\tmarginLeft: isFirstMessageByThisUser ? \"4px\" : \"48px\",\n\t\t\t\t\t}}>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={message.attachments[0].file}\n\t\t\t\t\t\talt=\"message-attachment\"\n\t\t\t\t\t\tclassName=\"message-image\"\n\t\t\t\t\t/>\n\t\t\t\t\t<small\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\tbottom: \"8px\",\n\t\t\t\t\t\t\tright: \"16px\",\n\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\tmarginRight: \"10px\",\n\t\t\t\t\t\t\tfontSize: \"0.7rem\",\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t{time}\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"message\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tfloat: \"left\",\n\t\t\t\t\t\tbackgroundColor: \"#CABCDC\",\n\t\t\t\t\t\tmarginLeft: isFirstMessageByThisUser ? \"4px\" : \"48px\",\n\t\t\t\t\t}}>\n\t\t\t\t\t{message.text}\n\t\t\t\t\t<sub style={{ paddingLeft: \"8px\", fontSize: \"0.7rem\" }}>\n\t\t\t\t\t\t{time}\n\t\t\t\t\t</sub>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default OthersMessage;\n","import React from \"react\";\n\nconst SelfMessage = ({ message, time }) => {\n\treturn message?.attachments?.length > 0 ? (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tposition: \"relative\",\n\t\t\t\tfloat: \"right\",\n\t\t\t}}>\n\t\t\t<img\n\t\t\t\tsrc={message.attachments[0].file}\n\t\t\t\talt=\"message-attachment\"\n\t\t\t\tclassName=\"message-image\"\n\t\t\t/>\n\t\t\t<small\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\tbottom: \"8px\",\n\t\t\t\t\tright: \"16px\",\n\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\tmarginRight: \"10px\",\n\t\t\t\t\tfontSize: \"0.7rem\",\n\t\t\t\t}}>\n\t\t\t\t{time}\n\t\t\t</small>\n\t\t</div>\n\t) : (\n\t\t<div\n\t\t\tclassName=\"message\"\n\t\t\tstyle={{\n\t\t\t\tfloat: \"right\",\n\t\t\t\tmarginRight: \"18px\",\n\t\t\t\tcolor: \"#fff\",\n\t\t\t\tbackgroundColor: \"#3a2b50\",\n\t\t\t}}>\n\t\t\t{message.text}\n\t\t\t<sub style={{ paddingLeft: \"8px\", fontSize: \"0.7rem\" }}>{time}</sub>\n\t\t</div>\n\t);\n};\n\nexport default SelfMessage;\n","const datesAreOnSameDay = (first, second) =>\n\tfirst.getFullYear() === second.getFullYear() &&\n\tfirst.getMonth() === second.getMonth() &&\n\tfirst.getDate() === second.getDate();\n\nexport default datesAreOnSameDay;\n","import {\n\tBackdrop,\n\tChip,\n\tCircularProgress,\n\tmakeStyles,\n\tTypography,\n} from \"@material-ui/core\";\nimport React, { useCallback } from \"react\";\nimport MessageForm from \"../components/MessageForm\";\nimport OthersMessage from \"../components/OthersMessage\";\nimport SelfMessage from \"../components/SelfMessage\";\nimport datesAreOnSameDay from \"../util\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tbackgroundColor: \"rgb(162, 158, 200)\",\n\t},\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n}));\n/**\n * @ChatFeed The component displaying messages of active chat\n * @param {Object} chatProps - provided by chatEngine.io\n * */\nconst ChatFeed = props => {\n\tconsole.log(props);\n\tconst { messages, chats, userName, activeChat } = props;\n\tconst chat = chats && chats[activeChat]; // gets active Chat\n\tconst classes = useStyles();\n\n\tconst renderReadReceipts = useCallback(\n\t\t(message, isMyMessage) => (\n\t\t\t<div\n\t\t\t\tclassName=\"read-receipts\"\n\t\t\t\tstyle={{\n\t\t\t\t\tmarginRight: isMyMessage ? \"18px\" : \"0px\",\n\t\t\t\t\tmarginLeft: isMyMessage ? \"0px\" : \"68px\",\n\t\t\t\t\tmarginTop: \"5px\",\n\t\t\t\t\tmarginBottom: \"5px\",\n\t\t\t\t}}>\n\t\t\t\t{chat.people.map(\n\t\t\t\t\t(person, index) =>\n\t\t\t\t\t\tperson.person.username !== message.sender.username &&\n\t\t\t\t\t\tperson.last_read === message.id &&\n\t\t\t\t\t\tuserName !== person.person.username && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={`read_${index}`}\n\t\t\t\t\t\t\t\tclassName=\"read-receipt\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tfloat: isMyMessage ? \"right\" : \"left\",\n\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${person?.person?.avatar})`,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t</div>\n\t\t),\n\t\t[chat?.people, userName]\n\t);\n\n\tconst renderMessages = useCallback(() => {\n\t\tconst keys = Object.keys(messages); // gets id of all messages\n\n\t\treturn keys.map((key, index) => {\n\t\t\tconst message = messages[key];\n\t\t\tconst previousMessageKey = index === 0 ? null : keys[index - 1];\n\t\t\tconst lastMessage = messages[previousMessageKey];\n\t\t\tconst isMyMessage = message.sender.username === userName;\n\t\t\tconst messageDate = new Date(message.created);\n\t\t\tconst isFirstMessageOfDay = !datesAreOnSameDay(\n\t\t\t\tnew Date(lastMessage?.created),\n\t\t\t\tmessageDate\n\t\t\t);\n\t\t\treturn (\n\t\t\t\t<div key={`msg_${index}`} style={{ width: \"100%\" }}>\n\t\t\t\t\t<div className=\"message-block\">\n\t\t\t\t\t\t{(previousMessageKey === null ||\n\t\t\t\t\t\t\tisFirstMessageOfDay) && (\n\t\t\t\t\t\t\t<div className=\"date-block\">\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tclassName={classes.root}\n\t\t\t\t\t\t\t\t\tlabel={`${messageDate.getDate()} ${messageDate.toLocaleString(\n\t\t\t\t\t\t\t\t\t\t\"default\",\n\t\t\t\t\t\t\t\t\t\t{ month: \"long\" }\n\t\t\t\t\t\t\t\t\t)} ${messageDate.getFullYear()}`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{isMyMessage ? (\n\t\t\t\t\t\t\t<SelfMessage\n\t\t\t\t\t\t\t\tmessage={message}\n\t\t\t\t\t\t\t\ttime={`${messageDate\n\t\t\t\t\t\t\t\t\t.toTimeString()\n\t\t\t\t\t\t\t\t\t.substring(0, 5)}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<OthersMessage\n\t\t\t\t\t\t\t\tmessage={message}\n\t\t\t\t\t\t\t\tlastMessage={lastMessage}\n\t\t\t\t\t\t\t\ttime={`${messageDate\n\t\t\t\t\t\t\t\t\t.toTimeString()\n\t\t\t\t\t\t\t\t\t.substring(0, 5)}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t{renderReadReceipts(message, isMyMessage)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t}, [messages, userName, renderReadReceipts, classes.root]);\n\n\treturn chat ? (\n\t\t<div className=\"chat-feed\">\n\t\t\t<div className=\"chat-title-container\">\n\t\t\t\t<div className=\"chat-title\">{chat.title}</div>\n\t\t\t\t<div className=\"chat-subtitle\">\n\t\t\t\t\t{chat.people.map(person => ` ${person.person.username}`)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{renderMessages()}\n\t\t\t<div style={{ height: \"100px\" }} />\n\t\t\t<div className=\"message-form-container\">\n\t\t\t\t{\" \"}\n\t\t\t\t{/* Here we type new message */}\n\t\t\t\t<MessageForm {...props} chatId={activeChat} />\n\t\t\t</div>\n\t\t</div>\n\t) : (\n\t\t<Backdrop className={classes.backdrop} open>\n\t\t\t<Typography variant=\"h4\" gutterBottom>\n\t\t\t\tLoading...\n\t\t\t</Typography>\n\t\t\t<CircularProgress color=\"inherit\" />\n\t\t</Backdrop>\n\t);\n};\n\nexport default ChatFeed;\n","import React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport axios from \"axios\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\t\"& .MuiTextField-root\": {\n\t\t\tmargin: \"0 auto\",\n\t\t\twidth: \"90%\",\n\t\t\tmarginBottom: \"25px\",\n\t\t},\n\t\t\"& .MuiInputBase-root\": {\n\t\t\tbackgroundColor: \"rgb(255,255,255)\",\n\t\t},\n\t},\n}));\n\nconst LoginPage = ({ setUserDetails }) => {\n\tconst classes = useStyles();\n\tconst [formData, setFormData] = useState({\n\t\tuserName: \"\",\n\t\tpassword: \"\",\n\t\tshowPassword: false,\n\t\tpasswordError: \"\",\n\t\tuserNameError: \"\",\n\t\tformSubmissionError: false,\n\t});\n\tconst {\n\t\tuserName,\n\t\tpassword,\n\t\tshowPassword,\n\t\tpasswordError,\n\t\tuserNameError,\n\t\tformSubmissionError,\n\t} = formData;\n\tconst handleChange = e => {\n\t\tconst { name, value } = e.target;\n\t\tif (name === \"password\") {\n\t\t\tif (value === \"\")\n\t\t\t\tsetFormData(prev => ({\n\t\t\t\t\t...prev,\n\t\t\t\t\tpasswordError: \"Password is required.\",\n\t\t\t\t}));\n\t\t\telse if (value.length < 6 || value.length > 15)\n\t\t\t\tsetFormData(prev => ({\n\t\t\t\t\t...prev,\n\t\t\t\t\tpasswordError:\n\t\t\t\t\t\t\"Password has to be between 6-15 characters.\",\n\t\t\t\t}));\n\t\t\telse if (passwordError !== \"\")\n\t\t\t\tsetFormData(prev => ({ ...prev, passwordError: \"\" }));\n\t\t} else {\n\t\t\tif (value === \"\")\n\t\t\t\tsetFormData(prev => ({\n\t\t\t\t\t...prev,\n\t\t\t\t\tuserNameError: \"UserName is required.\",\n\t\t\t\t}));\n\t\t\telse if (userNameError !== \"\")\n\t\t\t\tsetFormData(prev => ({ ...prev, userNameError: \"\" }));\n\t\t}\n\n\t\tsetFormData(prev => ({ ...prev, [name]: value }));\n\t};\n\tconst handleClickShowPassword = () => {\n\t\tsetFormData(prev => ({ ...prev, showPassword: !showPassword }));\n\t};\n\tconst handleSubmit = async e => {\n\t\te.preventDefault();\n\t\tconst authObject = {\n\t\t\t\"Project-ID\": process.env.REACT_APP_PROJECT_ID,\n\t\t\t\"User-Name\": userName,\n\t\t\t\"User-Secret\": password,\n\t\t};\n\t\ttry {\n\t\t\tawait axios.get(\"https://api.chatengine.io/chats\", {\n\t\t\t\theaders: authObject,\n\t\t\t});\n\t\t\tlocalStorage.setItem(\"userName\", userName);\n\t\t\tlocalStorage.setItem(\"password\", password);\n\t\t\tsetUserDetails({ userName, password });\n\t\t} catch (error) {\n\t\t\tsetFormData(prev => ({ ...prev, formSubmissionError: true }));\n\t\t}\n\t};\n\treturn (\n\t\t<div className=\"wrapper\">\n\t\t\t<div className=\"form\">\n\t\t\t\t<h1 className=\"title\">Chat Application</h1>\n\t\t\t\t<form onSubmit={handleSubmit} className={classes.root}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"userName\"\n\t\t\t\t\t\terror={!!userNameError}\n\t\t\t\t\t\tvalue={userName}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel=\"UserName\"\n\t\t\t\t\t\thelperText={userNameError}\n\t\t\t\t\t\tplaceholder=\"john34\"\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\ttype={showPassword ? \"text\" : \"password\"}\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\terror={!!passwordError}\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\thelperText={passwordError}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\tonClick={handleClickShowPassword}\n\t\t\t\t\t\t\t\t\t\tonMouseDown={e => e.preventDefault()}>\n\t\t\t\t\t\t\t\t\t\t{formData.showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t<Visibility />\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"button\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tdisabled={!!passwordError || !!userNameError}>\n\t\t\t\t\t\t<span>Start Chatting</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t{formSubmissionError && (\n\t\t\t\t\t\t<h2 className=\"error\">Oops, Wrong Credentials!</h2>\n\t\t\t\t\t)}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default LoginPage;\n","import React, { useState } from \"react\";\nimport { ChatEngine } from \"react-chat-engine\";\nimport \"./App.css\";\nimport ChatFeed from \"./pages/ChatFeedPage\";\nimport LoginPage from \"./pages/LoginPage\";\n\nconst App = () => {\n\tconst [userDetails, setUserDetails] = useState({\n\t\tuserName: localStorage.getItem(\"userName\"),\n\t\tpassword: localStorage.getItem(\"password\"),\n\t});\n\treturn localStorage.getItem(\"userName\") ? (\n\t\t<ChatEngine\n\t\t\tprojectID={process.env.REACT_APP_PROJECT_ID}\n\t\t\tuserName={userDetails.userName}\n\t\t\tuserSecret={userDetails.password}\n\t\t\theight=\"100vh\"\n\t\t\trenderChatFeed={chatAppProps => <ChatFeed {...chatAppProps} />}\n\t\t/>\n\t) : (\n\t\t<LoginPage setUserDetails={setUserDetails} />\n\t);\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}